#!/usr/bin/ruby
$:.push '/home/ebrodeur/Projects/bin_snippets/lib'
require 'app'
require 'cli'
require 'couch'

include ErnieBrodeur
include ErnieBrodeur::NextBackground

App.version = "0.1.0"
App.banner = "This will change backgrounds based on a variety of rules."

Options.on("-d", "--add-directory", "Add a directory to the database.") { |dir| add_directory dir}
Options.on("-f", "--add-file", "Add a file to the database.") {|file| add_file file}
Options.on("-r", "--run-once", "Set the output file(s) a single time.") { run_once }
Options.on("-o", "--output_file", "Comma seperated list of output files, use more then one to set more then one.")
Options.on("-d", "--daemonize", "Split into the background, changing every X interval.") { daemonize }
Options.parse!

Options.on_pry

