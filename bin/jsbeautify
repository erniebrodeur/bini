#!/usr/bin/ruby
$:.push '/home/ebrodeur/Projects/bin_snippets/lib'
require 'app'
require 'cli'
include ErnieBrodeur

App.version = "0.9.0"
App.banner = "Usage: print json into a pretty format, or break trying."

Options.parse!

require 'yajl'
if __FILE__ == $0
	if ARGV.empty?
		begin
			puts Yajl.load $stdin.read
		rescue Exception => e
			puts e.message
			exit
		end
	else
		ARGV.each do |f|
			if File.exist? f
				puts Yajl.load open(f).read
			else
				puts "No such file: #{f}"
			end
		end
	end
end
